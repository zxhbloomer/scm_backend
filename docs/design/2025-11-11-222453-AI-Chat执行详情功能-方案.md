# AI Chatæ‰§è¡Œè¯¦æƒ…åŠŸèƒ½ - è¯¦ç»†è®¾è®¡æ–¹æ¡ˆ

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-11-11
**è®¾è®¡äºº**: Claude AI Assistant
**å®¡æ‰¹çŠ¶æ€**: å¾…å®¡æ‰¹

---

## 1. éœ€æ±‚èƒŒæ™¯

### 1.1 ä¸šåŠ¡éœ€æ±‚
ç”¨æˆ·åœ¨AI Chatå¯¹è¯ä¸­,å½“AIåŠ©æ‰‹è°ƒç”¨å·¥ä½œæµå¤„ç†è¯·æ±‚æ—¶,éœ€è¦èƒ½å¤ŸæŸ¥çœ‹å·¥ä½œæµçš„æ‰§è¡Œè¯¦æƒ…,åŒ…æ‹¬:
- å·¥ä½œæµæ•´ä½“æ‰§è¡ŒçŠ¶æ€
- å„ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œæƒ…å†µ
- èŠ‚ç‚¹çš„è¾“å…¥è¾“å‡ºæ•°æ®
- èŠ‚ç‚¹æ‰§è¡Œè€—æ—¶å’ŒçŠ¶æ€

### 1.2 ç°çŠ¶åˆ†æ
- **å·²æœ‰åŠŸèƒ½**: å·¥ä½œæµç®¡ç†é¡µé¢(WorkflowRuntimeList.vue)å·²å®ç°æ‰§è¡Œè¯¦æƒ…åŠŸèƒ½
- **æ•°æ®æº**: å·¥ä½œæµç®¡ç†è¯»å– `ai_workflow_runtime_node` è¡¨
- **ç¼ºå¤±åŠŸèƒ½**: AI Chaté¡µé¢ç¼ºå°‘æ‰§è¡Œè¯¦æƒ…æŸ¥çœ‹èƒ½åŠ›
- **æ•°æ®æºå·®å¼‚**: AI Chatåº”è¯»å– `ai_conversation_workflow_runtime_node` è¡¨

### 1.3 æ ¸å¿ƒéœ€æ±‚
åœ¨AI Chatæ¶ˆæ¯åˆ—è¡¨ä¸­,ä¸ºåŒ…å«å·¥ä½œæµæ‰§è¡Œçš„æ¶ˆæ¯æ·»åŠ "æ‰§è¡Œè¯¦æƒ…"åŠŸèƒ½å…¥å£,ç‚¹å‡»åå¼¹çª—æ˜¾ç¤ºå·¥ä½œæµèŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…ã€‚

---

## 2. KISSåŸåˆ™éªŒè¯

### 2.1 å…­é—®é¢˜æ£€éªŒ

| é—®é¢˜ | å›ç­” | ç»“è®º |
|------|------|------|
| **è¿™æ˜¯ä¸ªçœŸé—®é¢˜è¿˜æ˜¯è‡†æƒ³å‡ºæ¥çš„?** | çœŸé—®é¢˜ã€‚ç”¨æˆ·æ˜ç¡®éœ€è¦åœ¨AI Chatä¸­æŸ¥çœ‹å·¥ä½œæµæ‰§è¡Œè¯¦æƒ…,å·¥ä½œæµç®¡ç†é¡µé¢å·²æœ‰æ­¤åŠŸèƒ½,è¯´æ˜éœ€æ±‚å·²éªŒè¯ã€‚ | âœ… é€šè¿‡ |
| **æœ‰æ›´ç®€å•çš„æ–¹æ³•å—?** | å½“å‰æ–¹æ¡ˆå·²æ˜¯æœ€ç®€:<br>- åç«¯å¤ç”¨å·²æœ‰Service,åªéœ€æš´éœ²API<br>- å‰ç«¯æŠ½å–ç‹¬ç«‹ç»„ä»¶,é¿å…ä»£ç é‡å¤ | âœ… é€šè¿‡ |
| **ä¼šç ´åä»€ä¹ˆå—?** | ä¸ä¼šã€‚çº¯æ–°å¢åŠŸèƒ½:<br>- æ—§æ¶ˆæ¯ä¸æ˜¾ç¤ºæŒ‰é’®<br>- æ–°APIç‹¬ç«‹è·¯å¾„<br>- ä¸ä¿®æ”¹ç°æœ‰ä»£ç  | âœ… é€šè¿‡ |
| **å½“å‰é¡¹ç›®çœŸçš„éœ€è¦è¿™ä¸ªåŠŸèƒ½å—?** | éœ€è¦ã€‚AI Chatæ˜¯æ ¸å¿ƒåŠŸèƒ½,å·¥ä½œæµæ‰§è¡Œè¯¦æƒ…æ˜¯å¿…è¦çš„é€æ˜åº¦éœ€æ±‚ã€‚ | âœ… é€šè¿‡ |
| **æœ‰è¶³å¤Ÿçš„æ•°æ®æ”¯æ’‘æ–¹æ¡ˆè®¾è®¡å—?** | æœ‰ã€‚å·²å®Œæˆå®Œæ•´ä»£ç åˆ†æã€æ•°æ®åº“ç»“æ„åˆ†æã€æ•°æ®æµåˆ†æã€‚ | âœ… é€šè¿‡ |
| **æ–¹æ¡ˆæ˜¯å¦ç»è¿‡ç”¨æˆ·å®¡æ‰¹?** | å¾…å®¡æ‰¹ã€‚æœ¬æ–‡æ¡£å³ä¸ºå®¡æ‰¹ææ–™ã€‚ | â³ å¾…å®¡æ‰¹ |

### 2.2 å¤æ‚åº¦è¯„ä¼°
- **é—®é¢˜å¤æ‚åº¦**: ä¸­ç­‰
- **è§£å†³æ–¹æ¡ˆå¤æ‚åº¦**: ä¸­ç­‰
- **é¢„è®¡å¼€å‘æ—¶é—´**: 2-3å°æ—¶
- **æŠ•å…¥äº§å‡ºæ¯”**: âœ… åˆç†

---

## 3. æ•°æ®å±‚è®¾è®¡

### 3.1 æ•°æ®è¡¨å¯¹æ¯”

| ç»´åº¦ | å·¥ä½œæµç®¡ç† | AI Chat |
|------|-----------|---------|
| **Runtimeè¡¨** | `ai_workflow_runtime` | `ai_conversation_workflow_runtime` |
| **Nodeè¡¨** | `ai_workflow_runtime_node` | `ai_conversation_workflow_runtime_node` |
| **Runtime Entity** | `AiWorkflowRuntimeEntity` | `AiConversationWorkflowRuntimeEntity` |
| **Node Entity** | `AiWorkflowRuntimeNodeEntity` | `AiConversationWorkflowRuntimeNodeEntity` |
| **Runtime VO** | `AiWorkflowRuntimeVo` | `AiConversationWorkflowRuntimeVo` |
| **Node VO** | `AiWorkflowRuntimeNodeVo` | `AiConversationWorkflowRuntimeNodeVo` |

### 3.2 æ•°æ®åº“è¡¨ç»“æ„

**è¡¨å**: `ai_conversation_workflow_runtime_node`

**æ ¸å¿ƒå­—æ®µ**:
```sql
CREATE TABLE ai_conversation_workflow_runtime_node (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT 'ä¸»é”®ID',
    runtime_node_uuid VARCHAR(50) NOT NULL COMMENT 'è¿è¡Œæ—¶èŠ‚ç‚¹UUID(ä¸šåŠ¡ä¸»é”®)',
    conversation_workflow_runtime_id BIGINT NOT NULL COMMENT 'AI Chatå·¥ä½œæµè¿è¡Œæ—¶ID',
    node_id BIGINT COMMENT 'èŠ‚ç‚¹ID(å…³è”ai_workflow_nodeè¡¨)',
    input_data TEXT COMMENT 'èŠ‚ç‚¹è¾“å…¥æ•°æ®(JSON)',
    output_data TEXT COMMENT 'èŠ‚ç‚¹è¾“å‡ºæ•°æ®(JSON)',
    status INT COMMENT 'æ‰§è¡ŒçŠ¶æ€(1-ç­‰å¾…ä¸­,2-è¿è¡Œä¸­,3-æˆåŠŸ,4-å¤±è´¥)',
    status_remark VARCHAR(500) COMMENT 'çŠ¶æ€è¯´æ˜',
    c_time DATETIME COMMENT 'åˆ›å»ºæ—¶é—´',
    u_time DATETIME COMMENT 'ä¿®æ”¹æ—¶é—´',
    c_id BIGINT COMMENT 'åˆ›å»ºäººID',
    u_id BIGINT COMMENT 'ä¿®æ”¹äººID',
    dbversion INT COMMENT 'æ•°æ®ç‰ˆæœ¬(ä¹è§‚é”)',
    INDEX idx_runtime_id (conversation_workflow_runtime_id),
    INDEX idx_node_uuid (runtime_node_uuid)
) COMMENT='AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¡¨';
```

### 3.3 æ•°æ®æµå‘

```
ç”¨æˆ·ç‚¹å‡»"æ‰§è¡Œè¯¦æƒ…"
    â†“
MessageList.showExecutionDetail(message.workflowRuntime)
    â†“
å‰ç«¯API: getConversationRuntimeNodeDetails(runtime.id)
    â†“
åç«¯API: GET /api/v1/ai/conversation/workflow/runtime/nodes/{runtimeId}
    â†“
Controller: AiConversationController.listRuntimeNodes(runtimeId)
    â†“
Service: AiConversationWorkflowRuntimeNodeService.listByWfRuntimeId(runtimeId)
    â†“
Mapper: æŸ¥è¯¢ ai_conversation_workflow_runtime_node è¡¨
    â†“
è¿”å›: List<AiConversationWorkflowRuntimeNodeVo>
    â†“
å‰ç«¯æ¸²æŸ“: ExecutionDetailDialogæ˜¾ç¤ºèŠ‚ç‚¹è¯¦æƒ…
```

---

## 4. åç«¯è®¾è®¡

### 4.1 Serviceå±‚ (âœ… å·²å­˜åœ¨,æ— éœ€ä¿®æ”¹)

**æ–‡ä»¶**: `scm-ai/src/main/java/com/xinyirun/scm/ai/core/service/workflow/AiConversationWorkflowRuntimeNodeService.java`

**å…³é”®æ–¹æ³•**:
```java
/**
 * æŸ¥è¯¢è¿è¡Œå®ä¾‹çš„æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œè®°å½•
 * @param wfRuntimeId è¿è¡Œå®ä¾‹ID
 * @return èŠ‚ç‚¹æ‰§è¡Œè®°å½•VOåˆ—è¡¨
 */
public List<AiConversationWorkflowRuntimeNodeVo> listByWfRuntimeId(Long wfRuntimeId) {
    // 1. æŸ¥è¯¢æ•°æ®åº“
    List<AiConversationWorkflowRuntimeNodeEntity> entityList =
        conversationWorkflowRuntimeNodeMapper.selectList(
            new LambdaQueryWrapper<AiConversationWorkflowRuntimeNodeEntity>()
                .eq(AiConversationWorkflowRuntimeNodeEntity::getConversationWorkflowRuntimeId, wfRuntimeId)
                .orderByAsc(AiConversationWorkflowRuntimeNodeEntity::getId)
        );

    // 2. Entity -> VOè½¬æ¢
    List<AiConversationWorkflowRuntimeNodeVo> result = new ArrayList<>();
    for (AiConversationWorkflowRuntimeNodeEntity entity : entityList) {
        AiConversationWorkflowRuntimeNodeVo vo = new AiConversationWorkflowRuntimeNodeVo();
        BeanUtils.copyProperties(entity, vo);

        // 3. JSONå­—æ®µè½¬æ¢: String -> JSONObject
        if (StringUtils.isNotBlank(entity.getInputData())) {
            vo.setInputData(JSON.parseObject(entity.getInputData()));
        }
        if (StringUtils.isNotBlank(entity.getOutputData())) {
            vo.setOutputData(JSON.parseObject(entity.getOutputData()));
        }

        // 4. å¡«å……èŠ‚ç‚¹æ ‡é¢˜: ä»ai_workflow_nodeè¡¨æŸ¥è¯¢
        if (entity.getNodeId() != null) {
            var node = workflowNodeService.getById(entity.getNodeId());
            if (node != null && StringUtils.isNotBlank(node.getTitle())) {
                vo.setNodeTitle(node.getTitle());
            }
        }

        fillInputOutput(vo);
        result.add(vo);
    }

    return result;
}
```

**åŠŸèƒ½è¯´æ˜**:
- âœ… å·²å®Œæ•´å®ç°,é€»è¾‘å®Œå…¨é•œåƒ `AiWorkflowRuntimeNodeService`
- âœ… è‡ªåŠ¨å¡«å…… `nodeTitle` å­—æ®µ,å‰ç«¯æ— éœ€é€šè¿‡nodeIdåŒ¹é…
- âœ… è‡ªåŠ¨è½¬æ¢JSONå­—æ®µ,å‰ç«¯ç›´æ¥ä½¿ç”¨JSONObject

### 4.2 Controllerå±‚ (âŒ éœ€è¦æ–°å¢)

**æ–‡ä»¶**: `scm-ai/src/main/java/com/xinyirun/scm/ai/controller/chat/AiConversationController.java`

**æ–°å¢æ–¹æ³•**:
```java
/**
 * è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…
 *
 * å¯¹åº”å‰ç«¯: getConversationRuntimeNodeDetails(runtimeId)
 * å¯¹åº”è·¯ç”±: GET /api/v1/ai/conversation/workflow/runtime/nodes/{runtimeId}
 *
 * @param runtimeId è¿è¡Œæ—¶ID
 * @return èŠ‚ç‚¹è¯¦æƒ…åˆ—è¡¨
 */
@GetMapping("/workflow/runtime/nodes/{runtimeId}")
public Result<List<AiConversationWorkflowRuntimeNodeVo>> listRuntimeNodes(@PathVariable Long runtimeId) {
    try {
        List<AiConversationWorkflowRuntimeNodeVo> nodes =
            conversationWorkflowRuntimeNodeService.listByWfRuntimeId(runtimeId);
        return Result.success(nodes);
    } catch (Exception e) {
        log.error("è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥, runtimeId: {}", runtimeId, e);
        return Result.error("è·å–èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥: " + e.getMessage());
    }
}
```

**APIè§„èŒƒ**:
- **æ–¹æ³•**: GET
- **è·¯å¾„**: `/api/v1/ai/conversation/workflow/runtime/nodes/{runtimeId}`
- **å‚æ•°**: runtimeId (è·¯å¾„å‚æ•°, Longç±»å‹)
- **è¿”å›**: `Result<List<AiConversationWorkflowRuntimeNodeVo>>`
- **å¼‚å¸¸å¤„ç†**: æ•è·æ‰€æœ‰å¼‚å¸¸,è¿”å›å‹å¥½é”™è¯¯ä¿¡æ¯

### 4.3 ä¾èµ–æ³¨å…¥

åœ¨ `AiConversationController` ä¸­æ·»åŠ :
```java
@Resource
private AiConversationWorkflowRuntimeNodeService conversationWorkflowRuntimeNodeService;
```

---

## 5. å‰ç«¯è®¾è®¡

### 5.1 APIå±‚è®¾è®¡

**æ–‡ä»¶**: `src/components/70_ai/api/aiChatService.js`

**æ–°å¢æ–¹æ³•**:
```javascript
/**
 * è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…
 * å¯¹åº”åç«¯: AiConversationController.listRuntimeNodes(@PathVariable Long runtimeId)
 * @param {number} runtimeId - è¿è¡Œæ—¶ID
 * @returns {Promise<Object>} - è¿”å›æ ¼å¼: {success: true, data: [...], message: ''}
 */
export function getConversationRuntimeNodeDetails(runtimeId) {
  return request({
    url: `/api/v1/ai/conversation/workflow/runtime/nodes/${runtimeId}`,
    method: 'get'
  })
}
```

**å¯¼å‡º**:
åœ¨æ–‡ä»¶æœ«å°¾çš„exportä¸­æ·»åŠ :
```javascript
export {
  // ... ç°æœ‰å¯¼å‡º
  getConversationRuntimeNodeDetails
}
```

### 5.2 ç»„ä»¶å±‚è®¾è®¡

#### 5.2.1 ç‹¬ç«‹å¯¹è¯æ¡†ç»„ä»¶ (æ–°å»º)

**æ–‡ä»¶**: `src/components/70_ai/components/common/ExecutionDetailDialog.vue`

**è®¾è®¡ç›®çš„**:
- æŠ½å–å¯å¤ç”¨çš„æ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡†ç»„ä»¶
- æ—¢å¯ç”¨äºAI Chat,ä¹Ÿå¯ç”¨äºå·¥ä½œæµç®¡ç†
- é¿å…ä»£ç é‡å¤,ä¾¿äºç»´æŠ¤

**Propså®šä¹‰**:
```javascript
props: {
  // æ§åˆ¶å¯¹è¯æ¡†æ˜¾ç¤º/éšè—
  visible: {
    type: Boolean,
    default: false
  },
  // è¿è¡Œæ—¶è¯¦æƒ…æ•°æ®
  runtimeDetail: {
    type: Object,
    default: null
  }
}
```

**Eventså®šä¹‰**:
```javascript
// å…³é—­å¯¹è¯æ¡†
this.$emit('update:visible', false)
this.$emit('close')
```

**æ ¸å¿ƒåŠŸèƒ½**:
1. æ˜¾ç¤ºè¿è¡Œæ—¶åŸºæœ¬ä¿¡æ¯(çŠ¶æ€ã€æ—¶é—´ã€è€—æ—¶)
2. æ˜¾ç¤ºèŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…åˆ—è¡¨
3. æ¯ä¸ªèŠ‚ç‚¹æ˜¾ç¤º:
   - èŠ‚ç‚¹æ ‡é¢˜(nodeTitle)
   - æ‰§è¡ŒçŠ¶æ€(status)
   - è¾“å…¥æ•°æ®(inputData)
   - è¾“å‡ºæ•°æ®(outputData)
   - é”™è¯¯ä¿¡æ¯(statusRemark)

**ä»£ç ç»“æ„** (å¤ç”¨WorkflowRuntimeList.vue Line 145-257):
```vue
<template>
  <el-dialog
    v-el-drag-dialog
    :visible="visible"
    title="æ‰§è¡Œè¯¦æƒ…"
    :modal="true"
    width="800px"
    :close-on-click-modal="false"
    :close-on-press-escape="false"
    :show-close="true"
    :append-to-body="true"
    :modal-append-to-body="true"
    class="execution-detail-dialog"
    destroy-on-close
    top="5vh"
    @update:visible="handleVisibleChange"
  >
    <div
      v-if="runtimeDetail"
      class="execution-detail"
      :style="{ height: dialogContentHeight + 'px', overflowY: 'auto' }"
    >
      <!-- åŸºæœ¬ä¿¡æ¯ -->
      <div class="detail-section">
        <h4>åŸºæœ¬ä¿¡æ¯</h4>
        <el-descriptions :column="2" border size="small">
          <el-descriptions-item label="æ‰§è¡ŒçŠ¶æ€">
            <el-tag :type="getStatusType(runtimeDetail.status)" size="mini">
              {{ getStatusText(runtimeDetail.status) }}
            </el-tag>
          </el-descriptions-item>
          <el-descriptions-item label="æ‰§è¡Œæ—¶é—´">
            {{ getRuntimeTime(runtimeDetail) }}
          </el-descriptions-item>
          <el-descriptions-item v-if="getElapsedMs(runtimeDetail)" label="è€—æ—¶">
            {{ getElapsedMs(runtimeDetail) }}ms
          </el-descriptions-item>
        </el-descriptions>
      </div>

      <!-- èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ… -->
      <div v-if="runtimeDetail.nodes && runtimeDetail.nodes.length" class="detail-section">
        <h4>èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…</h4>

        <!-- èŠ‚ç‚¹å¡ç‰‡åˆ—è¡¨ -->
        <div v-for="(node, index) in runtimeDetail.nodes" :key="index" class="node-card">
          <!-- èŠ‚ç‚¹æ ‡é¢˜ -->
          <div class="node-header">
            <span class="node-name">{{ getNodeDisplayName(node) }}</span>
            <el-tag :type="getNodeStatusType(getActualNodeStatus(node))" size="mini">
              {{ getNodeStatusText(getActualNodeStatus(node)) }}
            </el-tag>
          </div>

          <!-- è¾“å…¥å‚æ•° -->
          <div v-if="node.inputData && Object.keys(node.inputData).length > 0" class="node-section">
            <div class="section-title">è¾“å…¥</div>
            <div v-for="(value, key) in node.inputData" :key="`input_${key}`" class="param-item">
              <span class="param-label">{{ key }}:</span>
              <span class="param-value">{{ formatValue(value) }}</span>
            </div>
          </div>

          <!-- è¾“å‡ºå‚æ•° -->
          <div v-if="node.outputData && Object.keys(node.outputData).length > 0" class="node-section">
            <div class="section-title">è¾“å‡º</div>
            <div v-for="(value, key) in node.outputData" :key="`output_${key}`" class="param-item">
              <span class="param-label">{{ key }}:</span>
              <span class="param-value">{{ formatValue(value) }}</span>
            </div>
          </div>

          <!-- é”™è¯¯ä¿¡æ¯ -->
          <div v-if="node.statusRemark" class="node-error">
            <i class="el-icon-warning" />
            <span>{{ node.statusRemark }}</span>
          </div>
        </div>
      </div>

      <!-- é”™è¯¯ä¿¡æ¯ -->
      <div v-if="runtimeDetail.status === 4" class="detail-section">
        <h4>é”™è¯¯ä¿¡æ¯</h4>
        <el-alert
          :title="runtimeDetail.status_remark || runtimeDetail.statusRemark || 'å·¥ä½œæµæ‰§è¡Œå¤±è´¥'"
          type="error"
          :closable="false"
        />
      </div>
    </div>
  </el-dialog>
</template>

<script>
import elDragDialog from '@/directive/el-drag-dialog'

export default {
  name: 'ExecutionDetailDialog',

  directives: { elDragDialog },

  props: {
    visible: {
      type: Boolean,
      default: false
    },
    runtimeDetail: {
      type: Object,
      default: null
    }
  },

  computed: {
    dialogContentHeight() {
      return window.innerHeight - 200
    }
  },

  methods: {
    handleVisibleChange(val) {
      this.$emit('update:visible', val)
      if (!val) {
        this.$emit('close')
      }
    },

    // ... å…¶ä»–è¾…åŠ©æ–¹æ³• (getStatusType, getStatusText, formatValueç­‰)
    // å®Œå…¨å¤ç”¨WorkflowRuntimeList.vueçš„å®ç°
  }
}
</script>

<style lang="scss" scoped>
// å®Œå…¨å¤ç”¨WorkflowRuntimeList.vueçš„æ ·å¼ (Line 1360-1465)
</style>
```

#### 5.2.2 MessageListç»„ä»¶é›†æˆ (ä¿®æ”¹)

**æ–‡ä»¶**: `src/components/70_ai/components/chat/messages/MessageList.vue`

**ä¿®æ”¹ç‚¹1: å¯¼å…¥**
```javascript
import { getConversationRuntimeNodeDetails } from '@/components/70_ai/api/aiChatService'
import ExecutionDetailDialog from '@/components/70_ai/components/common/ExecutionDetailDialog.vue'
```

**ä¿®æ”¹ç‚¹2: æ³¨å†Œç»„ä»¶**
```javascript
components: {
  ExecutionDetailDialog
}
```

**ä¿®æ”¹ç‚¹3: æ·»åŠ æ•°æ®**
```javascript
data() {
  return {
    // ... ç°æœ‰æ•°æ®
    detailDialogVisible: false,
    currentRuntimeDetail: null
  }
}
```

**ä¿®æ”¹ç‚¹4: æ·»åŠ æ–¹æ³•**
```javascript
methods: {
  // ... ç°æœ‰æ–¹æ³•

  /**
   * æ˜¾ç¤ºå·¥ä½œæµæ‰§è¡Œè¯¦æƒ…
   * @param {Object} workflowRuntime - å·¥ä½œæµè¿è¡Œæ—¶å¯¹è±¡
   */
  async showExecutionDetail(workflowRuntime) {
    if (!workflowRuntime || !workflowRuntime.id) {
      this.$message.warning('è¿è¡Œæ—¶ä¿¡æ¯ä¸å®Œæ•´')
      return
    }

    this.currentRuntimeDetail = workflowRuntime
    this.detailDialogVisible = true

    // å¦‚æœèŠ‚ç‚¹è¯¦æƒ…å°šæœªåŠ è½½,åˆ™è°ƒç”¨APIè·å–
    if (!workflowRuntime.nodes || workflowRuntime.nodes.length === 0) {
      try {
        const response = await getConversationRuntimeNodeDetails(workflowRuntime.id)
        if (response.success && response.data && response.data.length > 0) {
          workflowRuntime.nodes = response.data
          this.currentRuntimeDetail = { ...workflowRuntime, nodes: response.data }
        }
      } catch (error) {
        console.error('åŠ è½½èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥:', error)
        this.$message.error('åŠ è½½èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'))
      }
    }
  },

  /**
   * å…³é—­æ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡†
   */
  handleDetailClose() {
    this.detailDialogVisible = false
    this.currentRuntimeDetail = null
  }
}
```

**ä¿®æ”¹ç‚¹5: æ¨¡æ¿ä¿®æ”¹**

éœ€è¦å…ˆåˆ†æMessageList.vueçš„æ¶ˆæ¯æ¸²æŸ“ç»“æ„,æ‰¾åˆ°AIæ¶ˆæ¯çš„æ¸²æŸ“ä½ç½®,ç„¶åæ·»åŠ æ‰§è¡Œè¯¦æƒ…æŒ‰é’®ã€‚

**é¢„æœŸä½ç½®**:
```vue
<template>
  <div class="scm-message-list">
    <!-- ... æ¬¢è¿åŒºåŸŸ ... -->

    <!-- æ¶ˆæ¯åˆ—è¡¨ -->
    <div v-for="message in messages" :key="message.id" class="message-item">
      <!-- AIæ¶ˆæ¯ -->
      <div v-if="message.type === 'ai'" class="ai-message">
        <div class="message-header">
          <div class="message-info">
            <span class="message-time">{{ formatTime(message.timestamp) }}</span>
          </div>

          <!-- â­ æ–°å¢: æ‰§è¡Œè¯¦æƒ…æŒ‰é’® -->
          <el-button
            v-if="message.workflowRuntime && message.workflowRuntime.id"
            type="text"
            size="small"
            @click.stop="showExecutionDetail(message.workflowRuntime)"
          >
            <i class="el-icon-document" />
            æ‰§è¡Œè¯¦æƒ…
          </el-button>
        </div>

        <!-- æ¶ˆæ¯å†…å®¹ -->
        <div class="message-content">
          {{ message.content }}
        </div>
      </div>
    </div>

    <!-- â­ æ–°å¢: æ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡† -->
    <execution-detail-dialog
      :visible.sync="detailDialogVisible"
      :runtime-detail="currentRuntimeDetail"
      @close="handleDetailClose"
    />
  </div>
</template>
```

**æ³¨æ„äº‹é¡¹**:
1. éœ€è¦å…ˆé˜…è¯»MessageList.vueçš„å®Œæ•´ä»£ç ,ç¡®å®šAIæ¶ˆæ¯çš„å‡†ç¡®æ¸²æŸ“ä½ç½®
2. æŒ‰é’®åº”è¯¥åªåœ¨ `message.workflowRuntime` å­˜åœ¨ä¸” `message.workflowRuntime.id` æœ‰å€¼æ—¶æ˜¾ç¤º
3. ä½¿ç”¨ `@click.stop` é˜²æ­¢äº‹ä»¶å†’æ³¡

---

## 6. æ•°æ®å­—æ®µæ˜ å°„

### 6.1 Messageå¯¹è±¡ç»“æ„ (å‰ç«¯)

**æ¥æº**: Vuex store `chat/chatMessages`

**å­—æ®µå®šä¹‰**:
```javascript
{
  id: String,                    // æ¶ˆæ¯ID
  content: String,               // æ¶ˆæ¯å†…å®¹
  type: String,                  // 'user' | 'ai' | 'system'
  timestamp: String,             // ISOæ—¶é—´å­—ç¬¦ä¸²
  status: String,                // 'sent' | 'delivered' | 'read' | 'failed'
  workflowRuntime: {             // â­ å·¥ä½œæµè¿è¡Œæ—¶ä¿¡æ¯ (å¯é€‰)
    id: Number,                  // runtimeä¸»é”®ID
    runtimeUuid: String,         // runtime UUID
    status: Number,              // 1-è¿è¡Œä¸­, 2-ç­‰å¾…è¾“å…¥, 3-æˆåŠŸ, 4-å¤±è´¥
    status_remark: String,       // çŠ¶æ€è¯´æ˜
    c_time: String,              // åˆ›å»ºæ—¶é—´
    elapsed_ms: Number,          // è€—æ—¶(æ¯«ç§’)
    nodes: Array                 // èŠ‚ç‚¹è¯¦æƒ…åˆ—è¡¨ (é¦–æ¬¡ä¸ºç©º,APIè·å–åå¡«å……)
  }
}
```

### 6.2 RuntimeNodeå¯¹è±¡ç»“æ„ (åç«¯è¿”å›)

**æ¥æº**: `AiConversationWorkflowRuntimeNodeVo`

**å­—æ®µå®šä¹‰**:
```javascript
{
  id: Number,                           // èŠ‚ç‚¹è®°å½•ID
  runtimeNodeUuid: String,              // èŠ‚ç‚¹UUID
  conversationWorkflowRuntimeId: Number,// è¿è¡Œæ—¶ID
  nodeId: Number,                       // èŠ‚ç‚¹å®šä¹‰ID
  nodeTitle: String,                    // â­ èŠ‚ç‚¹æ ‡é¢˜ (åç«¯è‡ªåŠ¨å¡«å……)
  inputData: {                          // è¾“å…¥æ•°æ® (JSONObject)
    param1: value1,
    param2: value2,
    ...
  },
  outputData: {                         // è¾“å‡ºæ•°æ® (JSONObject)
    result1: value1,
    result2: value2,
    ...
  },
  status: Number,                       // 1-ç­‰å¾…ä¸­, 2-è¿è¡Œä¸­, 3-æˆåŠŸ, 4-å¤±è´¥
  statusRemark: String,                 // çŠ¶æ€è¯´æ˜
  cTime: String,                        // åˆ›å»ºæ—¶é—´
  uTime: String                         // æ›´æ–°æ—¶é—´
}
```

### 6.3 å­—æ®µæ˜ å°„å…³ç³»

| åç«¯å­—æ®µ | å‰ç«¯å­—æ®µ | è½¬æ¢è¯´æ˜ |
|---------|---------|---------|
| `cTime` / `c_time` | `c_time` | å…¼å®¹é©¼å³°å’Œä¸‹åˆ’çº¿ |
| `statusRemark` / `status_remark` | `statusRemark` | å…¼å®¹é©¼å³°å’Œä¸‹åˆ’çº¿ |
| `inputData` (String) | `inputData` (JSONObject) | åç«¯Serviceè‡ªåŠ¨è½¬æ¢ |
| `outputData` (String) | `outputData` (JSONObject) | åç«¯Serviceè‡ªåŠ¨è½¬æ¢ |
| `nodeTitle` | `nodeTitle` | åç«¯Serviceè‡ªåŠ¨å¡«å…… |

---

## 7. UIäº¤äº’è®¾è®¡

### 7.1 æŒ‰é’®ä½ç½®

**ä½ç½®**: AIæ¶ˆæ¯çš„headeråŒºåŸŸ,æ—¶é—´æˆ³å³ä¾§

**æ˜¾ç¤ºæ¡ä»¶**:
```javascript
v-if="message.workflowRuntime && message.workflowRuntime.id"
```

**æ ·å¼å‚è€ƒ**: WorkflowRuntimeList.vue Line 70-77
```vue
<el-button
  type="text"
  size="small"
  @click.stop="showExecutionDetail(message.workflowRuntime)"
>
  <i class="el-icon-document" />
  æ‰§è¡Œè¯¦æƒ…
</el-button>
```

### 7.2 å¯¹è¯æ¡†äº¤äº’

**æ‰“å¼€æµç¨‹**:
1. ç”¨æˆ·ç‚¹å‡»"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’®
2. ç«‹å³æ˜¾ç¤ºå¯¹è¯æ¡†,å±•ç¤ºåŸºæœ¬ä¿¡æ¯
3. å¦‚æœ `runtime.nodes` ä¸ºç©º,è°ƒç”¨APIè·å–èŠ‚ç‚¹è¯¦æƒ…
4. åŠ è½½å®Œæˆåæ›´æ–°å¯¹è¯æ¡†å†…å®¹

**å…³é—­æµç¨‹**:
1. ç”¨æˆ·ç‚¹å‡»å…³é—­æŒ‰é’®æˆ–é®ç½©å±‚
2. è§¦å‘ `@close` äº‹ä»¶
3. MessageListç»„ä»¶å¤„ç†å…³é—­é€»è¾‘
4. æ¸…ç©º `currentRuntimeDetail`

### 7.3 çŠ¶æ€æ ‡ç­¾é¢œè‰²

| çŠ¶æ€å€¼ | çŠ¶æ€æ–‡æœ¬ | æ ‡ç­¾é¢œè‰² |
|-------|---------|---------|
| 0 | å°±ç»ª | info (ç°è‰²) |
| 1 | è¿è¡Œä¸­ | info (è“è‰²) |
| 2 | ç­‰å¾…è¾“å…¥ | warning (æ©™è‰²) |
| 3 | æˆåŠŸ | success (ç»¿è‰²) |
| 4 | å¤±è´¥ | danger (çº¢è‰²) |

### 7.4 èŠ‚ç‚¹çŠ¶æ€æ ‡ç­¾é¢œè‰²

| çŠ¶æ€å€¼ | çŠ¶æ€æ–‡æœ¬ | æ ‡ç­¾é¢œè‰² |
|-------|---------|---------|
| 1 | ç­‰å¾…ä¸­ | info (ç°è‰²) |
| 2 | è¿è¡Œä¸­ | primary (è“è‰²) |
| 3 | æˆåŠŸ | success (ç»¿è‰²) |
| 4 | å¤±è´¥ | danger (çº¢è‰²) |

---

## 8. è¾¹ç•Œæƒ…å†µå¤„ç†

### 8.1 æ¶ˆæ¯æ— å·¥ä½œæµè¿è¡Œæ—¶

**åœºæ™¯**: æ™®é€šèŠå¤©æ¶ˆæ¯,æœªè§¦å‘å·¥ä½œæµ

**å¤„ç†**:
```javascript
v-if="message.workflowRuntime && message.workflowRuntime.id"
```
æŒ‰é’®ä¸æ˜¾ç¤º,ç”¨æˆ·æ— æ³•ç‚¹å‡»

### 8.2 è¿è¡Œæ—¶IDä¸ºç©º

**åœºæ™¯**: æ•°æ®å¼‚å¸¸,workflowRuntimeå­˜åœ¨ä½†idä¸ºç©º

**å¤„ç†**:
```javascript
async showExecutionDetail(workflowRuntime) {
  if (!workflowRuntime || !workflowRuntime.id) {
    this.$message.warning('è¿è¡Œæ—¶ä¿¡æ¯ä¸å®Œæ•´')
    return
  }
  // ...
}
```

### 8.3 APIè¯·æ±‚å¤±è´¥

**åœºæ™¯**: ç½‘ç»œé”™è¯¯ã€åç«¯å¼‚å¸¸ç­‰

**å¤„ç†**:
```javascript
try {
  const response = await getConversationRuntimeNodeDetails(workflowRuntime.id)
  // ...
} catch (error) {
  console.error('åŠ è½½èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥:', error)
  this.$message.error('åŠ è½½èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'))
}
```

### 8.4 èŠ‚ç‚¹è¯¦æƒ…ä¸ºç©º

**åœºæ™¯**: APIè¿”å›æˆåŠŸ,ä½†nodesæ•°ç»„ä¸ºç©º

**å¤„ç†**:
```vue
<div v-if="runtimeDetail.nodes && runtimeDetail.nodes.length" class="detail-section">
  <!-- èŠ‚ç‚¹åˆ—è¡¨ -->
</div>
<div v-else class="empty-nodes">
  <span>æš‚æ— èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…</span>
</div>
```

### 8.5 èŠ‚ç‚¹çŠ¶æ€æœªæ›´æ–°

**åœºæ™¯**: runtimeæ•´ä½“å·²æˆåŠŸ,ä½†éƒ¨åˆ†èŠ‚ç‚¹çŠ¶æ€ä»ä¸º"è¿è¡Œä¸­"

**å¤„ç†**: ä½¿ç”¨ `getActualNodeStatus` æ–¹æ³•æ¨æ–­èŠ‚ç‚¹çŠ¶æ€
```javascript
getActualNodeStatus(node) {
  // å¦‚æœruntimeæ•´ä½“å·²æˆåŠŸ,ä½†èŠ‚ç‚¹è¿˜æ˜¯è¿è¡Œä¸­çŠ¶æ€,åˆ™æ¨æ–­ä¸ºæˆåŠŸ
  if (this.runtimeDetail &&
      this.runtimeDetail.status === 3 &&
      node.status === 2) {
    return 3 // è¿”å›æˆåŠŸçŠ¶æ€
  }
  return node.status
}
```

---

## 9. æŠ€æœ¯å®ç°è·¯å¾„

### 9.1 å¼€å‘é¡ºåº

**Phase 1: åç«¯å¼€å‘**
1. åœ¨ `AiConversationController` ä¸­æ–°å¢ `listRuntimeNodes` æ–¹æ³•
2. æ·»åŠ  `@Resource` æ³¨å…¥ `AiConversationWorkflowRuntimeNodeService`
3. ç¼–å†™æ¥å£æ–‡æ¡£æ³¨é‡Š
4. æœ¬åœ°æµ‹è¯•APIå¯è®¿é—®æ€§

**Phase 2: å‰ç«¯APIå¼€å‘**
1. åœ¨ `aiChatService.js` ä¸­æ–°å¢ `getConversationRuntimeNodeDetails` æ–¹æ³•
2. æ·»åŠ å®Œæ•´çš„JSDocæ³¨é‡Š
3. åœ¨exportä¸­æ·»åŠ æ–¹æ³•å¯¼å‡º

**Phase 3: å‰ç«¯ç»„ä»¶å¼€å‘**
1. åˆ›å»º `ExecutionDetailDialog.vue` ç»„ä»¶
   - å¤ç”¨ WorkflowRuntimeList.vue çš„dialogä»£ç 
   - æŠ½å–ä¸ºç‹¬ç«‹å¯å¤ç”¨ç»„ä»¶
   - å®šä¹‰æ¸…æ™°çš„propså’Œevents
2. åœ¨ `MessageList.vue` ä¸­é›†æˆ
   - å¯¼å…¥APIæ–¹æ³•å’Œå¯¹è¯æ¡†ç»„ä»¶
   - æ·»åŠ æ•°æ®å±æ€§
   - å®ç° `showExecutionDetail` å’Œ `handleDetailClose` æ–¹æ³•
   - ä¿®æ”¹æ¨¡æ¿,æ·»åŠ æ‰§è¡Œè¯¦æƒ…æŒ‰é’®

**Phase 4: æµ‹è¯•éªŒè¯**
1. åç«¯å•å…ƒæµ‹è¯•
2. å‰ç«¯åŠŸèƒ½æµ‹è¯•
3. ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•

### 9.2 å…³é”®æ£€æŸ¥ç‚¹

**åç«¯æ£€æŸ¥**:
- [ ] APIè·¯å¾„æ­£ç¡®: `/api/v1/ai/conversation/workflow/runtime/nodes/{runtimeId}`
- [ ] è¿”å›æ•°æ®ç»“æ„æ­£ç¡®: `Result<List<AiConversationWorkflowRuntimeNodeVo>>`
- [ ] `nodeTitle` å­—æ®µæ­£ç¡®å¡«å……
- [ ] `inputData` / `outputData` æ­£ç¡®è½¬æ¢ä¸ºJSONObject
- [ ] å¼‚å¸¸æƒ…å†µæ­£ç¡®å¤„ç†å¹¶è¿”å›å‹å¥½é”™è¯¯ä¿¡æ¯

**å‰ç«¯æ£€æŸ¥**:
- [ ] APIæ–¹æ³•æ­£ç¡®å¯¼å‡ºå’Œå¯¼å…¥
- [ ] ExecutionDetailDialogç»„ä»¶å¯ç‹¬ç«‹è¿è¡Œ
- [ ] MessageListæ­£ç¡®é›†æˆç»„ä»¶
- [ ] æŒ‰é’®æ˜¾ç¤ºæ¡ä»¶æ­£ç¡®
- [ ] å¯¹è¯æ¡†æ•°æ®æ­£ç¡®ä¼ é€’
- [ ] èŠ‚ç‚¹è¯¦æƒ…æ­£ç¡®æ¸²æŸ“
- [ ] æ ·å¼æ­£ç¡®(æ— é”™ä½ã€æ— é®æŒ¡)

---

## 10. æµ‹è¯•ç”¨ä¾‹

### 10.1 åç«¯æµ‹è¯•ç”¨ä¾‹

| ç”¨ä¾‹ID | æµ‹è¯•åœºæ™¯ | è¾“å…¥ | é¢„æœŸè¾“å‡º |
|-------|---------|------|---------|
| BE-001 | æ­£å¸¸æŸ¥è¯¢èŠ‚ç‚¹è¯¦æƒ… | runtimeId=123 (æœ‰3ä¸ªèŠ‚ç‚¹) | è¿”å›3ä¸ªèŠ‚ç‚¹çš„è¯¦æƒ…åˆ—è¡¨ |
| BE-002 | æŸ¥è¯¢ä¸å­˜åœ¨çš„runtime | runtimeId=999999 | è¿”å›ç©ºæ•°ç»„ |
| BE-003 | èŠ‚ç‚¹æœ‰è¾“å…¥è¾“å‡ºæ•°æ® | runtimeId=123 | inputDataå’ŒoutputDataæ­£ç¡®è½¬æ¢ä¸ºJSONObject |
| BE-004 | èŠ‚ç‚¹æ ‡é¢˜è‡ªåŠ¨å¡«å…… | runtimeId=123 | nodeTitleå­—æ®µä¸ä¸ºç©º,å€¼ä¸ºèŠ‚ç‚¹å®šä¹‰çš„title |
| BE-005 | å¼‚å¸¸æƒ…å†µå¤„ç† | runtimeId=null | è¿”å›é”™è¯¯ä¿¡æ¯ |

### 10.2 å‰ç«¯æµ‹è¯•ç”¨ä¾‹

| ç”¨ä¾‹ID | æµ‹è¯•åœºæ™¯ | æ“ä½œ | é¢„æœŸç»“æœ |
|-------|---------|------|---------|
| FE-001 | æ™®é€šæ¶ˆæ¯ä¸æ˜¾ç¤ºæŒ‰é’® | æŸ¥çœ‹æ™®é€šèŠå¤©æ¶ˆæ¯ | æ— "æ‰§è¡Œè¯¦æƒ…"æŒ‰é’® |
| FE-002 | å·¥ä½œæµæ¶ˆæ¯æ˜¾ç¤ºæŒ‰é’® | æŸ¥çœ‹åŒ…å«workflowRuntimeçš„æ¶ˆæ¯ | æ˜¾ç¤º"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’® |
| FE-003 | ç‚¹å‡»æŒ‰é’®æ‰“å¼€å¯¹è¯æ¡† | ç‚¹å‡»"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’® | å¼¹å‡ºExecutionDetailDialog |
| FE-004 | å¯¹è¯æ¡†æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ | æ‰“å¼€å¯¹è¯æ¡† | æ˜¾ç¤ºçŠ¶æ€ã€æ—¶é—´ã€è€—æ—¶ |
| FE-005 | å¯¹è¯æ¡†æ˜¾ç¤ºèŠ‚ç‚¹åˆ—è¡¨ | æ‰“å¼€å¯¹è¯æ¡† | æ˜¾ç¤ºæ‰€æœ‰èŠ‚ç‚¹çš„æ‰§è¡Œè¯¦æƒ… |
| FE-006 | èŠ‚ç‚¹è¾“å…¥è¾“å‡ºæ­£ç¡®æ¸²æŸ“ | æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ… | inputDataå’ŒoutputDataæ­£ç¡®æ˜¾ç¤º |
| FE-007 | èŠ‚ç‚¹çŠ¶æ€æ ‡ç­¾æ­£ç¡® | æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ… | çŠ¶æ€æ ‡ç­¾é¢œè‰²ä¸çŠ¶æ€å€¼åŒ¹é… |
| FE-008 | é”™è¯¯ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º | æŸ¥çœ‹å¤±è´¥çš„èŠ‚ç‚¹ | æ˜¾ç¤ºçº¢è‰²é”™è¯¯æç¤º |
| FE-009 | å…³é—­å¯¹è¯æ¡† | ç‚¹å‡»å…³é—­æŒ‰é’® | å¯¹è¯æ¡†å…³é—­,æ•°æ®æ¸…ç©º |
| FE-010 | APIè°ƒç”¨å¤±è´¥å¤„ç† | ç½‘ç»œé”™è¯¯åœºæ™¯ | æ˜¾ç¤ºé”™è¯¯æç¤ºæ¶ˆæ¯ |

### 10.3 ç«¯åˆ°ç«¯æµ‹è¯•ç”¨ä¾‹

| ç”¨ä¾‹ID | æµ‹è¯•åœºæ™¯ | æ“ä½œæ­¥éª¤ | é¢„æœŸç»“æœ |
|-------|---------|---------|---------|
| E2E-001 | å®Œæ•´æµç¨‹æµ‹è¯• | 1. åœ¨AI Chatä¸­å‘é€æ¶ˆæ¯<br>2. AIè°ƒç”¨å·¥ä½œæµå¤„ç†<br>3. ç‚¹å‡»"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’®<br>4. æŸ¥çœ‹èŠ‚ç‚¹è¯¦æƒ…<br>5. å…³é—­å¯¹è¯æ¡† | æ‰€æœ‰æ­¥éª¤æ­£å¸¸,æ•°æ®æ­£ç¡®æ˜¾ç¤º |
| E2E-002 | å¤šæ¬¡æ‰“å¼€å¯¹è¯æ¡† | 1. æ‰“å¼€æ‰§è¡Œè¯¦æƒ…<br>2. å…³é—­å¯¹è¯æ¡†<br>3. å†æ¬¡æ‰“å¼€ | èŠ‚ç‚¹è¯¦æƒ…å·²ç¼“å­˜,ä¸é‡å¤è¯·æ±‚API |
| E2E-003 | ä¸åŒçŠ¶æ€çš„å·¥ä½œæµ | æŸ¥çœ‹æˆåŠŸã€å¤±è´¥ã€è¿è¡Œä¸­çš„å·¥ä½œæµ | çŠ¶æ€æ ‡ç­¾é¢œè‰²æ­£ç¡® |

---

## 11. é£é™©è¯„ä¼°

### 11.1 æŠ€æœ¯é£é™©

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“ | ç¼“è§£æªæ–½ |
|-------|---------|------|---------|
| MessageListç»„ä»¶ç»“æ„å¤æ‚,ä¸ç¡®å®šæŒ‰é’®æ’å…¥ä½ç½® | ğŸŸ¡ ä¸­ç­‰ | å¯èƒ½éœ€è¦è°ƒæ•´å¤šæ¬¡æ‰èƒ½æ‰¾åˆ°åˆé€‚ä½ç½® | å…ˆå®Œæ•´é˜…è¯»MessageList.vueä»£ç ,ç¡®å®šAIæ¶ˆæ¯æ¸²æŸ“ç»“æ„ |
| message.workflowRuntimeå­—æ®µå¯èƒ½ä¸å­˜åœ¨ | ğŸŸ¢ ä½ | æ—§æ¶ˆæ¯æ— æ­¤å­—æ®µ | ä½¿ç”¨v-ifæ¡ä»¶æ¸²æŸ“,ç¡®ä¿å‘åå…¼å®¹ |
| ExecutionDetailDialogæ ·å¼å¯èƒ½ä¸MessageListå†²çª | ğŸŸ¢ ä½ | æ ·å¼é”™ä½æˆ–é®æŒ¡ | ä½¿ç”¨scopedæ ·å¼,append-to-bodyç¡®ä¿å±‚çº§æ­£ç¡® |

### 11.2 ä¸šåŠ¡é£é™©

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“ | ç¼“è§£æªæ–½ |
|-------|---------|------|---------|
| ç”¨æˆ·ä¸çŸ¥é“æ‰§è¡Œè¯¦æƒ…æŒ‰é’®çš„å­˜åœ¨ | ğŸŸ¡ ä¸­ç­‰ | åŠŸèƒ½ä½¿ç”¨ç‡ä½ | è€ƒè™‘åœ¨é¦–æ¬¡è§¦å‘å·¥ä½œæµæ—¶æ˜¾ç¤ºå¼•å¯¼æç¤º |
| èŠ‚ç‚¹è¯¦æƒ…è¿‡å¤šå¯¼è‡´å¯¹è¯æ¡†è¿‡é•¿ | ğŸŸ¢ ä½ | ç”¨æˆ·éœ€è¦æ»šåŠ¨æŸ¥çœ‹ | å¯¹è¯æ¡†å†…å®¹åŒºåŸŸè®¾ç½®æœ€å¤§é«˜åº¦,å¯ç”¨æ»šåŠ¨æ¡ |

### 11.3 å…¼å®¹æ€§é£é™©

| é£é™©é¡¹ | é£é™©ç­‰çº§ | å½±å“ | ç¼“è§£æªæ–½ |
|-------|---------|------|---------|
| æ—§ç‰ˆæœ¬æ¶ˆæ¯æ ¼å¼ä¸å…¼å®¹ | ğŸŸ¢ ä½ | æ—§æ¶ˆæ¯æ— æ³•æŸ¥çœ‹æ‰§è¡Œè¯¦æƒ… | ä½¿ç”¨v-if="message.workflowRuntime"ç¡®ä¿åªåœ¨æ–°æ¶ˆæ¯ä¸Šæ˜¾ç¤ºæŒ‰é’® |
| æµè§ˆå™¨å…¼å®¹æ€§ | ğŸŸ¢ ä½ | éƒ¨åˆ†æµè§ˆå™¨å¯èƒ½æ ·å¼å¼‚å¸¸ | ä½¿ç”¨Element UIæ ‡å‡†ç»„ä»¶,å·²éªŒè¯å…¼å®¹æ€§ |

---

## 12. æ€§èƒ½ä¼˜åŒ–

### 12.1 èŠ‚ç‚¹è¯¦æƒ…ç¼“å­˜

**ä¼˜åŒ–ç‚¹**: é¿å…é‡å¤è¯·æ±‚API

**å®ç°æ–¹å¼**:
```javascript
async showExecutionDetail(workflowRuntime) {
  // ...

  // â­ åªæœ‰åœ¨èŠ‚ç‚¹è¯¦æƒ…å°šæœªåŠ è½½æ—¶æ‰è°ƒç”¨API
  if (!workflowRuntime.nodes || workflowRuntime.nodes.length === 0) {
    const response = await getConversationRuntimeNodeDetails(workflowRuntime.id)
    // å°†èŠ‚ç‚¹è¯¦æƒ…ç¼“å­˜åˆ°workflowRuntimeå¯¹è±¡ä¸­
    workflowRuntime.nodes = response.data
    this.currentRuntimeDetail = { ...workflowRuntime, nodes: response.data }
  }
}
```

**æ•ˆæœ**:
- é¦–æ¬¡æ‰“å¼€å¯¹è¯æ¡†: è°ƒç”¨APIè·å–èŠ‚ç‚¹è¯¦æƒ…
- å†æ¬¡æ‰“å¼€å¯¹è¯æ¡†: ç›´æ¥ä½¿ç”¨ç¼“å­˜æ•°æ®,æ— éœ€è¯·æ±‚

### 12.2 å¯¹è¯æ¡†æ‡’åŠ è½½

**ä¼˜åŒ–ç‚¹**: å¯¹è¯æ¡†ç»„ä»¶æŒ‰éœ€åŠ è½½

**å®ç°æ–¹å¼**:
```javascript
components: {
  ExecutionDetailDialog: () => import('@/components/70_ai/components/common/ExecutionDetailDialog.vue')
}
```

**æ•ˆæœ**:
- é¦–æ¬¡åŠ è½½MessageListæ—¶ä¸åŠ è½½ExecutionDetailDialog
- ç”¨æˆ·ç‚¹å‡»"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’®æ—¶æ‰åŠ è½½ç»„ä»¶
- å‡å°‘åˆå§‹bundleå¤§å°

### 12.3 å¤§æ•°æ®é‡ä¼˜åŒ–

**ä¼˜åŒ–ç‚¹**: èŠ‚ç‚¹æ•°é‡è¿‡å¤šæ—¶çš„æ¸²æŸ“æ€§èƒ½

**å®ç°æ–¹å¼**:
- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ (å¯é€‰,èŠ‚ç‚¹æ•°>50æ—¶)
- å»¶è¿Ÿæ¸²æŸ“éå¯è§èŠ‚ç‚¹ (å¯é€‰)

**å½“å‰è¯„ä¼°**:
- å·¥ä½œæµèŠ‚ç‚¹æ•°é‡é€šå¸¸ <20ä¸ª
- æš‚ä¸éœ€è¦è™šæ‹Ÿæ»šåŠ¨
- å¦‚æœæœªæ¥æœ‰å¤§å‹å·¥ä½œæµ(>50ä¸ªèŠ‚ç‚¹),å†ä¼˜åŒ–

---

## 13. ç›‘æ§å’Œæ—¥å¿—

### 13.1 åç«¯æ—¥å¿—

**å…³é”®æ—¥å¿—ç‚¹**:
```java
@GetMapping("/workflow/runtime/nodes/{runtimeId}")
public Result<List<AiConversationWorkflowRuntimeNodeVo>> listRuntimeNodes(@PathVariable Long runtimeId) {
    try {
        log.info("è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…, runtimeId: {}", runtimeId);

        List<AiConversationWorkflowRuntimeNodeVo> nodes =
            conversationWorkflowRuntimeNodeService.listByWfRuntimeId(runtimeId);

        log.info("è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…æˆåŠŸ, runtimeId: {}, èŠ‚ç‚¹æ•°é‡: {}",
            runtimeId, nodes.size());

        return Result.success(nodes);
    } catch (Exception e) {
        log.error("è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥, runtimeId: {}", runtimeId, e);
        return Result.error("è·å–èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥: " + e.getMessage());
    }
}
```

### 13.2 å‰ç«¯æ—¥å¿—

**å…³é”®æ—¥å¿—ç‚¹**:
```javascript
async showExecutionDetail(workflowRuntime) {
  console.log('[ExecutionDetail] æ‰“å¼€æ‰§è¡Œè¯¦æƒ…, runtimeId:', workflowRuntime.id)

  try {
    const response = await getConversationRuntimeNodeDetails(workflowRuntime.id)
    console.log('[ExecutionDetail] è·å–èŠ‚ç‚¹è¯¦æƒ…æˆåŠŸ, èŠ‚ç‚¹æ•°é‡:', response.data.length)
  } catch (error) {
    console.error('[ExecutionDetail] åŠ è½½èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥:', error)
  }
}
```

### 13.3 ç›‘æ§æŒ‡æ ‡

**åç«¯ç›‘æ§**:
- APIå“åº”æ—¶é—´ (ç›®æ ‡: <500ms)
- APIæˆåŠŸç‡ (ç›®æ ‡: >99%)
- å¹³å‡èŠ‚ç‚¹æ•°é‡

**å‰ç«¯ç›‘æ§**:
- å¯¹è¯æ¡†æ‰“å¼€æ¬¡æ•°
- APIè°ƒç”¨æ¬¡æ•°
- ç¼“å­˜å‘½ä¸­ç‡

---

## 14. æ–‡æ¡£å’Œæ³¨é‡Šè§„èŒƒ

### 14.1 åç«¯æ³¨é‡Š

**Controlleræ³¨é‡Š**:
```java
/**
 * è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…
 *
 * <p>ç”¨äºAI Chatåœºæ™¯ä¸‹æŸ¥çœ‹å·¥ä½œæµçš„èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…</p>
 * <p>è¿”å›èŠ‚ç‚¹çš„è¾“å…¥è¾“å‡ºæ•°æ®ã€æ‰§è¡ŒçŠ¶æ€ã€è€—æ—¶ç­‰ä¿¡æ¯</p>
 *
 * å¯¹åº”å‰ç«¯: getConversationRuntimeNodeDetails(runtimeId)
 * å¯¹åº”è·¯ç”±: GET /api/v1/ai/conversation/workflow/runtime/nodes/{runtimeId}
 *
 * @param runtimeId è¿è¡Œæ—¶ID
 * @return èŠ‚ç‚¹è¯¦æƒ…åˆ—è¡¨,åŒ…å«èŠ‚ç‚¹æ ‡é¢˜ã€è¾“å…¥è¾“å‡ºã€çŠ¶æ€ç­‰ä¿¡æ¯
 */
```

### 14.2 å‰ç«¯æ³¨é‡Š

**APIæ–¹æ³•æ³¨é‡Š**:
```javascript
/**
 * è·å–AI Chatå·¥ä½œæµè¿è¡Œæ—¶èŠ‚ç‚¹è¯¦æƒ…
 *
 * @description æŸ¥è¯¢æŒ‡å®šè¿è¡Œæ—¶çš„æ‰€æœ‰èŠ‚ç‚¹æ‰§è¡Œè®°å½•,åŒ…æ‹¬è¾“å…¥è¾“å‡ºæ•°æ®ã€çŠ¶æ€ç­‰
 * @param {number} runtimeId - è¿è¡Œæ—¶ID
 * @returns {Promise<Object>} Promiseå¯¹è±¡
 * @returns {boolean} return.success - æ˜¯å¦æˆåŠŸ
 * @returns {Array<Object>} return.data - èŠ‚ç‚¹è¯¦æƒ…åˆ—è¡¨
 * @returns {string} return.message - é”™è¯¯ä¿¡æ¯(å¤±è´¥æ—¶)
 *
 * @example
 * const response = await getConversationRuntimeNodeDetails(123)
 * if (response.success) {
 *   console.log('èŠ‚ç‚¹åˆ—è¡¨:', response.data)
 * }
 */
```

**ç»„ä»¶æ–¹æ³•æ³¨é‡Š**:
```javascript
/**
 * æ˜¾ç¤ºå·¥ä½œæµæ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡†
 *
 * @description æ‰“å¼€æ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡†å¹¶åŠ è½½èŠ‚ç‚¹è¯¦æƒ…æ•°æ®
 * @param {Object} workflowRuntime - å·¥ä½œæµè¿è¡Œæ—¶å¯¹è±¡
 * @param {number} workflowRuntime.id - è¿è¡Œæ—¶ID
 * @param {Array} [workflowRuntime.nodes] - èŠ‚ç‚¹è¯¦æƒ…åˆ—è¡¨(å¯é€‰,å¦‚ä¸ºç©ºåˆ™è°ƒç”¨APIè·å–)
 * @returns {Promise<void>}
 */
```

---

## 15. éªŒæ”¶æ ‡å‡†

### 15.1 åŠŸèƒ½éªŒæ”¶

- [ ] AI Chatæ¶ˆæ¯åˆ—è¡¨ä¸­,åŒ…å«å·¥ä½œæµæ‰§è¡Œçš„æ¶ˆæ¯æ˜¾ç¤º"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’®
- [ ] ç‚¹å‡»æŒ‰é’®åå¼¹å‡ºæ‰§è¡Œè¯¦æƒ…å¯¹è¯æ¡†
- [ ] å¯¹è¯æ¡†æ­£ç¡®æ˜¾ç¤ºè¿è¡Œæ—¶åŸºæœ¬ä¿¡æ¯(çŠ¶æ€ã€æ—¶é—´ã€è€—æ—¶)
- [ ] å¯¹è¯æ¡†æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰èŠ‚ç‚¹çš„æ‰§è¡Œè¯¦æƒ…
- [ ] èŠ‚ç‚¹è¯¦æƒ…åŒ…å«:èŠ‚ç‚¹æ ‡é¢˜ã€çŠ¶æ€ã€è¾“å…¥æ•°æ®ã€è¾“å‡ºæ•°æ®
- [ ] å¤±è´¥èŠ‚ç‚¹æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- [ ] å¯¹è¯æ¡†å¯æ­£å¸¸å…³é—­
- [ ] æ™®é€šèŠå¤©æ¶ˆæ¯ä¸æ˜¾ç¤º"æ‰§è¡Œè¯¦æƒ…"æŒ‰é’®

### 15.2 æ€§èƒ½éªŒæ”¶

- [ ] APIå“åº”æ—¶é—´ <500ms (10ä¸ªèŠ‚ç‚¹)
- [ ] å¯¹è¯æ¡†æ‰“å¼€é€Ÿåº¦ <100ms (å·²ç¼“å­˜èŠ‚ç‚¹æ•°æ®)
- [ ] èŠ‚ç‚¹è¯¦æƒ…é¦–æ¬¡åŠ è½½ <1s

### 15.3 å…¼å®¹æ€§éªŒæ”¶

- [ ] æ—§ç‰ˆæœ¬æ¶ˆæ¯(æ— workflowRuntime)ä¸æ˜¾ç¤ºæŒ‰é’®
- [ ] æ–°ç‰ˆæœ¬æ¶ˆæ¯(æœ‰workflowRuntime)æ­£å¸¸æ˜¾ç¤ºæŒ‰é’®
- [ ] æ”¯æŒChromeã€Firefoxã€Edgeä¸»æµæµè§ˆå™¨

### 15.4 ä»£ç è´¨é‡éªŒæ”¶

- [ ] åç«¯ä»£ç é€šè¿‡ESLintæ£€æŸ¥
- [ ] å‰ç«¯ä»£ç é€šè¿‡ESLintæ£€æŸ¥
- [ ] æ‰€æœ‰æ–¹æ³•æœ‰å®Œæ•´æ³¨é‡Š
- [ ] æ— console.logè°ƒè¯•ä»£ç æ®‹ç•™

---

## 16. ä¸Šçº¿è®¡åˆ’

### 16.1 å¼€å‘é˜¶æ®µ
- **é¢„è®¡æ—¶é—´**: 2-3å°æ—¶
- **è´Ÿè´£äºº**: å¼€å‘äººå‘˜

**ä»»åŠ¡æ¸…å•**:
1. åç«¯Controllerå¼€å‘ (30åˆ†é’Ÿ)
2. å‰ç«¯APIæ–¹æ³•å¼€å‘ (15åˆ†é’Ÿ)
3. ExecutionDetailDialogç»„ä»¶å¼€å‘ (60åˆ†é’Ÿ)
4. MessageListé›†æˆ (30åˆ†é’Ÿ)
5. è‡ªæµ‹ (30åˆ†é’Ÿ)

### 16.2 æµ‹è¯•é˜¶æ®µ
- **é¢„è®¡æ—¶é—´**: 1å°æ—¶
- **è´Ÿè´£äºº**: QAå·¥ç¨‹å¸ˆ

**æµ‹è¯•æ¸…å•**:
1. åç«¯APIæµ‹è¯• (20åˆ†é’Ÿ)
2. å‰ç«¯åŠŸèƒ½æµ‹è¯• (20åˆ†é’Ÿ)
3. ç«¯åˆ°ç«¯é›†æˆæµ‹è¯• (20åˆ†é’Ÿ)

### 16.3 ä¸Šçº¿é˜¶æ®µ
- **é¢„è®¡æ—¶é—´**: 30åˆ†é’Ÿ
- **è´Ÿè´£äºº**: è¿ç»´äººå‘˜

**ä¸Šçº¿æ­¥éª¤**:
1. ä»£ç åˆå¹¶åˆ°mainåˆ†æ”¯
2. åç«¯éƒ¨ç½²
3. å‰ç«¯æ„å»ºå’Œéƒ¨ç½²
4. ç”Ÿäº§ç¯å¢ƒéªŒè¯

---

## 17. å›æ»šæ–¹æ¡ˆ

### 17.1 å›æ»šè§¦å‘æ¡ä»¶
- APIé”™è¯¯ç‡ >5%
- å‰ç«¯JavaScripté”™è¯¯ç‡ >1%
- ç”¨æˆ·åé¦ˆä¸¥é‡é—®é¢˜

### 17.2 å›æ»šæ­¥éª¤

**åç«¯å›æ»š**:
1. åˆ é™¤ `AiConversationController.listRuntimeNodes` æ–¹æ³•
2. é‡æ–°éƒ¨ç½²

**å‰ç«¯å›æ»š**:
1. åˆ é™¤ `ExecutionDetailDialog.vue` ç»„ä»¶
2. å›æ»š `MessageList.vue` çš„ä¿®æ”¹
3. åˆ é™¤ `aiChatService.js` ä¸­çš„APIæ–¹æ³•
4. é‡æ–°æ„å»ºå’Œéƒ¨ç½²

**å›æ»šå½±å“**:
- ç”¨æˆ·æ— æ³•æŸ¥çœ‹AI Chatçš„æ‰§è¡Œè¯¦æƒ…
- ä¸å½±å“å…¶ä»–åŠŸèƒ½
- å·¥ä½œæµç®¡ç†çš„æ‰§è¡Œè¯¦æƒ…ä¸å—å½±å“

---

## 18. åç»­ä¼˜åŒ–è®¡åˆ’

### 18.1 çŸ­æœŸä¼˜åŒ– (1ä¸ªæœˆå†…)
1. æ·»åŠ èŠ‚ç‚¹æ‰§è¡Œæ—¶é—´çº¿å¯è§†åŒ–
2. æ”¯æŒèŠ‚ç‚¹è¯¦æƒ…å¯¼å‡º(JSON/Excel)
3. æ·»åŠ èŠ‚ç‚¹é‡è¯•åŠŸèƒ½

### 18.2 é•¿æœŸä¼˜åŒ– (3ä¸ªæœˆå†…)
1. æ”¯æŒå®æ—¶æ›´æ–°èŠ‚ç‚¹çŠ¶æ€(WebSocket)
2. æ·»åŠ èŠ‚ç‚¹æ‰§è¡Œæ—¥å¿—æŸ¥çœ‹
3. æ”¯æŒèŠ‚ç‚¹æ€§èƒ½åˆ†æ

---

## 19. é™„å½•

### 19.1 å‚è€ƒæ–‡æ¡£
- [Element UI Dialogç»„ä»¶æ–‡æ¡£](https://element.eleme.cn/#/zh-CN/component/dialog)
- [Vueç»„ä»¶é€šä¿¡æ–‡æ¡£](https://cn.vuejs.org/v2/guide/components.html#%E9%80%9A%E8%BF%87-Prop-%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE)
- [Spring Boot RESTful APIæœ€ä½³å®è·µ](https://spring.io/guides/tutorials/rest/)

### 19.2 å…³é”®ä»£ç æ–‡ä»¶æ¸…å•

**åç«¯æ–‡ä»¶**:
- `scm-ai/src/main/java/com/xinyirun/scm/ai/controller/chat/AiConversationController.java` (ä¿®æ”¹)
- `scm-ai/src/main/java/com/xinyirun/scm/ai/core/service/workflow/AiConversationWorkflowRuntimeNodeService.java` (å·²å­˜åœ¨,æ— éœ€ä¿®æ”¹)
- `scm-ai/src/main/java/com/xinyirun/scm/ai/bean/vo/workflow/AiConversationWorkflowRuntimeNodeVo.java` (å·²å­˜åœ¨,æ— éœ€ä¿®æ”¹)

**å‰ç«¯æ–‡ä»¶**:
- `src/components/70_ai/api/aiChatService.js` (ä¿®æ”¹)
- `src/components/70_ai/components/common/ExecutionDetailDialog.vue` (æ–°å»º)
- `src/components/70_ai/components/chat/messages/MessageList.vue` (ä¿®æ”¹)

### 19.3 æ•°æ®åº“è¡¨DDL

```sql
-- è¡¨å·²å­˜åœ¨,æ— éœ€åˆ›å»º
-- å‚è€ƒ: ai_conversation_workflow_runtime_node

SELECT
    id,
    runtime_node_uuid,
    conversation_workflow_runtime_id,
    node_id,
    input_data,
    output_data,
    status,
    status_remark,
    c_time,
    u_time
FROM ai_conversation_workflow_runtime_node
WHERE conversation_workflow_runtime_id = ?
ORDER BY id ASC;
```

---

## 20. æ–¹æ¡ˆæ€»ç»“

### 20.1 æ ¸å¿ƒä»·å€¼
1. **æå‡ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·å¯ä»¥æ¸…æ™°äº†è§£AIå¦‚ä½•å¤„ç†ä»–ä»¬çš„è¯·æ±‚
2. **å¢å¼ºé€æ˜åº¦**: å·¥ä½œæµæ‰§è¡Œè¿‡ç¨‹é€æ˜å¯è§
3. **ä¾¿äºé—®é¢˜æ’æŸ¥**: å‡ºç°é—®é¢˜æ—¶å¯å¿«é€Ÿå®šä½æ˜¯å“ªä¸ªèŠ‚ç‚¹å¤±è´¥
4. **åŠŸèƒ½å®Œæ•´æ€§**: AI ChatåŠŸèƒ½ä¸å·¥ä½œæµç®¡ç†åŠŸèƒ½å¯¹é½

### 20.2 æŠ€æœ¯äº®ç‚¹
1. **å¤ç”¨ç°æœ‰èƒ½åŠ›**: åç«¯Serviceå±‚å®Œå…¨å¤ç”¨,åªéœ€æš´éœ²API
2. **ç»„ä»¶åŒ–è®¾è®¡**: ExecutionDetailDialogå¯ç‹¬ç«‹å¤ç”¨
3. **å‘åå…¼å®¹**: æ—§æ¶ˆæ¯ä¸å—å½±å“
4. **æ€§èƒ½ä¼˜åŒ–**: èŠ‚ç‚¹è¯¦æƒ…ç¼“å­˜,é¿å…é‡å¤è¯·æ±‚

### 20.3 å®æ–½å»ºè®®
1. **ä¼˜å…ˆçº§**: ä¸­ç­‰ - ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½,ä½†æå‡ç”¨æˆ·ä½“éªŒ
2. **å·¥ä½œé‡**: å° - é¢„è®¡2-3å°æ—¶å¼€å‘,1å°æ—¶æµ‹è¯•
3. **é£é™©**: ä½ - çº¯æ–°å¢åŠŸèƒ½,æ— ç ´åæ€§é£é™©
4. **ROI**: é«˜ - å°æŠ•å…¥,æ˜¾è‘—æå‡ç”¨æˆ·æ»¡æ„åº¦

---

**æ–¹æ¡ˆçŠ¶æ€**: â³ å¾…ç”¨æˆ·å®¡æ‰¹

**å®¡æ‰¹æ£€æŸ¥ç‚¹**:
- [ ] éœ€æ±‚ç†è§£æ˜¯å¦å‡†ç¡®?
- [ ] æŠ€æœ¯æ–¹æ¡ˆæ˜¯å¦åˆç†?
- [ ] å®æ–½è·¯å¾„æ˜¯å¦æ¸…æ™°?
- [ ] æ˜¯å¦æœ‰é—æ¼æˆ–éœ€è¦è°ƒæ•´çš„åœ°æ–¹?

**å®¡æ‰¹åç»­è¡ŒåŠ¨**:
- âœ… æ‰¹å‡† â†’ è¿›å…¥å¼€å‘é˜¶æ®µ
- âŒ æ‹’ç» â†’ è¯´æ˜åŸå› ,é‡æ–°è®¾è®¡
- ğŸ”„ ä¿®æ”¹ â†’ æ ¹æ®åé¦ˆè°ƒæ•´æ–¹æ¡ˆ
